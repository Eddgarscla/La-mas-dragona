<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Simulaci√≥n - La M√°s Draga</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
  margin: 0;
  font-family: 'Arial', sans-serif;
  min-height: 100vh;
  background-image: url('WhatsApp Image 2025-12-01 at 07.24.11.jpeg');
  background-repeat: no-repeat;
  background-size: cover;
  background-position: center top;
  color: white;
  overflow-x: hidden;
    }
    h1 { text-align: center; }
    .queen {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 8px;
    }
    .queen img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <h1>Simulaci√≥n en camino‚Ä¶ ‚ú®</h1>
  <h2>Cast seleccionado</h2>
  <div id="cast"></div>

  <h2>Configuraci√≥n</h2>
  <pre id="config"></pre>

  <script>
    // üî• Retos por temporada
const challengesBySeason = {
  "1": [
    "La m√°s diva",
    "La m√°s quincea√±era",
    "La m√°s Thal√≠a",
    "La m√°s Alebrije",
    "La m√°s dram√°tica"
  ],
  "2": [
    "La m√°s t√≠pica",
    "La m√°s religiosa",
    "La m√°s luchona",
    "La m√°s pi√±ata",
    "La m√°s Juanga",
    "La m√°s independiente",
    "La m√°s villana"
  ],
  "3": [
    "La m√°s suertuda",
    "La m√°s prehisp√°nica",
    "La m√°s fichera",
    "La m√°s Chespirito",
    "La m√°s famosa",
    "La m√°s legendaria",
    "La m√°s bella se√±orita M√©xico",
    "La m√°s buchona",
    "La m√°s antojable"
  ],
  "4": [
    "La m√°s folcl√≥rica",
    "La m√°s pintada",
    "La m√°s revolucionaria",
    "La m√°s mezclilla",
    "La m√°s cachuda",
    "La m√°s famosa",
    "La m√°s rosa mexicano",
    "La m√°s chola",
    "La m√°s Cri Cri",
    "La m√°s imperial"
  ],
  "5": [
    "La m√°s artesanal",
    "La m√°s a color",
    "La m√°s juguete",
    "La m√°s famosa",
    "La m√°s del Toro",
    "La m√°s tejocote",
    "La m√°s futurista",
    "La m√°s Lele",
    "La m√°s monja coronada"
  ],
  "6": [
    "La m√°s monumental",
    "La m√°s Frida",
    "La m√°s Pixar",
    "La m√°s recursiva",
    "La m√°s floral",
    "La m√°s nahual",
    "La m√°s azul peltre",
    "La m√°s animada",
    "La m√°s divina Infantita",
    "La m√°s galardonada"
  ],
  "7": [
    "La m√°s Guelaguetza",
    "La m√°s Silvia Pinal",
    "La m√°s dulce",
    "La m√°s recursiva",
    "La m√°s metrera",
    "La m√°s plicop√∫rpura",
    "La m√°s panzuda",
    "La m√°s ma√≠z",
    "La m√°s Lupita"
  ]
};

// üïØÔ∏è Retos especiales (para cualquier temporada)
const specialChallenges = {
  reunion: "D√≠a de Muertas",
  final:   "La Gran Final"
};
    // üß© Lista global de retos con id y temporada
const allChallenges = [];

for (const season in challengesBySeason) {
  challengesBySeason[season].forEach((name, index) => {
    allChallenges.push({
      id: T${season}-${index + 1}, // ejemplo: T3-4
      name,
      season
    });
  });
}

// Tambi√©n podemos meter los especiales aqu√≠ si hace falta
allChallenges.push(
  { id: "SPECIAL-reunion", name: specialChallenges.reunion, season: "all", type: "reunion" },
  { id: "SPECIAL-final",   name: specialChallenges.final,   season: "all", type: "final" }
);
    // Guarda aqu√≠ los ids de retos que ya se usaron en esta simulaci√≥n
const usedChallengeIds = [];

// üëâ Un reto aleatorio de TODAS las temporadas
function getRandomChallenge() {
  const disponibles = allChallenges.filter(ch => !usedChallengeIds.includes(ch.id));

  if (disponibles.length === 0) {
    return null; // ya no quedan retos libres
  }

  const randomIndex = Math.floor(Math.random() * disponibles.length);
  const reto = disponibles[randomIndex];

  usedChallengeIds.push(reto.id); // marcamos como usado
  return reto;
}

// üëâ Un reto aleatorio pero solo de una temporada concreta (por ejemplo T7)
function getRandomChallengeForSeason(season) {
  const disponibles = allChallenges.filter(
    ch => ch.season === String(season) && !usedChallengeIds.includes(ch.id)
  );

  if (disponibles.length === 0) {
    return null;
  }

  const randomIndex = Math.floor(Math.random() * disponibles.length);
  const reto = disponibles[randomIndex];

  usedChallengeIds.push(reto.id);
  return reto;
}
    const cast   = JSON.parse(localStorage.getItem("lmd_selectedQueens") || "[]");
    const config = JSON.parse(localStorage.getItem("lmd_seasonConfig") || "{}");

    const castDiv = document.getElementById("cast");
    cast.forEach(q => {
      const div = document.createElement("div");
      div.className = "queen";
      div.innerHTML = `
        <img src="${q.image}" alt="${q.name}">
        <span>${q.name} (T${q.season})</span>
      `;
      castDiv.appendChild(div);
    });

    document.getElementById("config").textContent = JSON.stringify(config, null, 2);
  </script>
</body>
</html>
